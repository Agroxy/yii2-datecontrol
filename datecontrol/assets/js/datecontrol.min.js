/*!
 * @copyright Copyright &copy; Kartik Visweswaran, Krajee.com, 2014
 * @version 1.0.0
 *
 * Date control validation script
 * 
 * Author: Kartik Visweswaran
 * Copyright: 2013, Kartik Visweswaran, Krajee.com
 * For more JQuery plugins visit http://plugins.krajee.com
 * For more Yii related demos visit http://demos.krajee.com
 */function isEmpty(e,t){return e===null||e===undefined||e==[]||e===""||t&&$.trim(e)===""}function parseDateControl(e){var t=$("#"+e.idDisp),n=$("#"+e.idSave),r=e.format;t.on("change",function(){if(isEmpty(t.val())){n.val("")}else{var e=strtotime(t.val());n.val(date_to_string(r,new Date(e*1e3)))}n.trigger("change")})}function strtotime(e,t){var n,r,i,s="",o="";s=e;s=s.replace(/\s{2,}|^\s|\s$/g," ");s=s.replace(/[\t\r\n]/g,"");if(s=="now"){return(new Date).getTime()/1e3}else if(!isNaN(o=Date.parse(s))){return o/1e3}else if(t){t=new Date(t*1e3)}else{t=new Date}s=s.toLowerCase();var u={day:{sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6},mon:{jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11}};var a=function(e){var n=e[2]&&e[2]=="ago";var r=(r=e[0]=="last"?-1:1)*(n?-1:1);switch(e[0]){case"last":case"next":switch(e[1].substring(0,3)){case"yea":t.setFullYear(t.getFullYear()+r);break;case"mon":t.setMonth(t.getMonth()+r);break;case"wee":t.setDate(t.getDate()+r*7);break;case"day":t.setDate(t.getDate()+r);break;case"hou":t.setHours(t.getHours()+r);break;case"min":t.setMinutes(t.getMinutes()+r);break;case"sec":t.setSeconds(t.getSeconds()+r);break;default:var i;if(typeof (i=u.day[e[1].substring(0,3)])!="undefined"){var s=i-t.getDay();if(s===0){s=7*r}else if(s>0){if(e[0]=="last"){s-=7}}else{if(e[0]=="next"){s+=7}}t.setDate(t.getDate()+s)}break}break;default:if(/\d+/.test(e[0])){r*=parseInt(e[0],10);switch(e[1].substring(0,3)){case"yea":t.setFullYear(t.getFullYear()+r);break;case"mon":t.setMonth(t.getMonth()+r);break;case"wee":t.setDate(t.getDate()+r*7);break;case"day":t.setDate(t.getDate()+r);break;case"hou":t.setHours(t.getHours()+r);break;case"min":t.setMinutes(t.getMinutes()+r);break;case"sec":t.setSeconds(t.getSeconds()+r);break}}else{return false}break}return true};r=s.match(/^(\d{2,4}-\d{2}-\d{2})(?:\s(\d{1,2}:\d{2}(:\d{2})?)?(?:\.(\d+))?)?$/);if(r!==null){if(!r[2]){r[2]="00:00:00"}else if(!r[3]){r[2]+=":00"}i=r[1].split(/-/g);for(n in u.mon){if(u.mon[n]==i[1]-1){i[1]=n}}i[0]=parseInt(i[0],10);i[0]=i[0]>=0&&i[0]<=69?"20"+(i[0]<10?"0"+i[0]:i[0]+""):i[0]>=70&&i[0]<=99?"19"+i[0]:i[0]+"";return parseInt(this.strtotime(i[2]+" "+i[1]+" "+i[0]+" "+r[2])+(r[4]?r[4]/1e3:""),10)}var f="([+-]?\\d+\\s"+"(years?|months?|weeks?|days?|hours?|min|minutes?|sec|seconds?"+"|sun\\.?|sunday|mon\\.?|monday|tue\\.?|tuesday|wed\\.?|wednesday"+"|thu\\.?|thursday|fri\\.?|friday|sat\\.?|saturday)"+"|(last|next)\\s"+"(years?|months?|weeks?|days?|hours?|min|minutes?|sec|seconds?"+"|sun\\.?|sunday|mon\\.?|monday|tue\\.?|tuesday|wed\\.?|wednesday"+"|thu\\.?|thursday|fri\\.?|friday|sat\\.?|saturday))"+"(\\sago)?";r=s.match(new RegExp(f,"gi"));if(r===null){return false}for(n=0;n<r.length;n++){if(!a(r[n].split(" "))){return false}}return t.getTime()/1e3}